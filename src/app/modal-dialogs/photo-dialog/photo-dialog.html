<!-- Photo Modal Component Template -->
<div class="modal-backdrop">
  <!-- Modal Content Container -->
  <div class="modal-content">
    
    <!-- Close Button -->
    <button class="close-button" (click)="closeModal()">‚úï</button>

    <!-- Previous Arrow -->
    @if(currentIndex() > 0) {
      <button (click)="previousPhotoInfo()" class="nav-arrow nav-arrow-left" aria-label="Previous photo">
        ‚Äπ
      </button>
    }

    <!-- üî• MAIN CONTENT AREA -->
    @if(photoInfo(); as photo) {
      
      <!-- Loading State -->
      @if(!photo.image) {
        <div class="image-loading">
          <div class="loading-spinner"></div>
          <p>Loading image...</p>
        </div>
      } @else {
        
        <!-- Photo Container -->
        <div class="photo-container">
          <!-- Main Photo -->
          <img 
            [src]="photo.image" 
            loading="eager" 
            [alt]="'Photo by ' + photo.author" 
            class="modal-image" 
          />
        </div>

        <!-- Next Arrow -->
        @if(currentIndex() < photoService.photos().length - 1) {
          <button (click)="nextPhotoInfo()" class="nav-arrow nav-arrow-right" aria-label="Next photo">
            ‚Ä∫
          </button>
        }

        <!-- Photo Info Section -->
        <div class="photo-info">
          <h3 class="photo-title">Photo by {{ photo.author }}</h3>
          <div class="photo-stats">
            <span class="stat">‚ù§Ô∏è {{ photo.likes }} likes</span>
            <span class="stat">üëÄ {{ photo.views }} views</span>
          </div>
          
          <!-- ADD/REMOVE FAVORITES BUTTON -->
          <div class="photo-actions">
            <button (click)="toggleLike(photo.id)" class="favorite-action-btn" type="button">
              <span class="action-icon">{{ photo.isLiked ? "ü§ç" : "‚ù§Ô∏è"}}</span>
              <span class="action-text">{{ photo.isLiked ? "Remove from Favourites" : "Add to Favorites"}}</span>
            </button>
          </div>
          
          <div class="photo-counter">{{ currentIndex() + 1 }} of {{ photoService.totalPhotos() }}</div>
        </div>
        
      } <!-- End @else -->
    } <!-- End @if(photoInfo()) -->
    
  </div> <!-- End modal-content -->
</div> <!-- End modal-backdrop -->
